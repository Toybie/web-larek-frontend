
# Проектная работа "Веб-ларек"

## Оглавление

- [Запуск](#запуск)
- [Сборка](#сборка)
- [Описание](#описание)
- [Документация](#документация)
- [Автор](#автор)

## Запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание

Онлайн магазин необходимых для веб разработчика мелочей.

Стек технологий
HTML
SCSS
TypeScript
Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/base/ — папка с api.ts

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами


## Документация

### **Об архитектуре**

Архитектура приложения основана на взаимодействии компонентов через события. Приложение состоит из нескольких ключевых частей:

Модели данных — управляют состоянием приложения (например, корзина покупок, товары в каталоге).

Компоненты отображения — отображают данные на экране (например, карточки товаров, корзина, форма заказа).

Слушатели событий — реализуют взаимодействие между компонентами, обновляют интерфейс при изменении состояния.

Взаимодействие между частями происходит через события, что позволяет отделить логику от отображения и сделать приложение более масштабируемым.

#### Основные типы данных:
- Product: объект с информацией о товаре, включая название, цену, категорию и изображение.
- Order: данные о заказе, такие как товары, адрес доставки и способ оплаты.
- Basket: содержит список добавленных товаров и общую сумму.

### **Описание компонентов**

#### **Компонент ProductCard**
**Назначение**: Компонент ProductCard отображает информацию о товаре в каталоге. Он показывает изображение товара, его название, категорию и цену, а также предоставляет кнопки для добавления товара в корзину и удаления из корзины.

Конструктор:
product: Product — объект с данными о товаре. Содержит id, name, category, price, image.

Свойства и методы:
- product: объект с данными о товаре.
- render(): метод, который отвечает за отрисовку карточки товара на странице.
- addToBasket(): метод для добавления товара в корзину.
- removeFromBasket(): метод для удаления товара из корзины.

События:
ADD_TO_BASKET — вызывается при добавлении товара в корзину.
REMOVE_FROM_BASKET — вызывается при удалении товара из корзины.

#### **Компонент Basket**
**Назначение**: Компонент Basket отображает содержимое корзины покупок. Он показывает список товаров в корзине, их количество, цену и предоставляет возможность удаления товара из корзины или оформления заказа.

*Конструктор:

basket: Basket — объект с товарами в корзине.
Свойства и методы:

basket: список товаров в корзине.
totalPrice: вычисляет общую стоимость товаров в корзине.
removeFromBasket(): метод для удаления товара из корзины.
checkout(): метод для оформления заказа.
События:

REMOVE_FROM_BASKET — удаляет товар из корзины.
CHECKOUT — инициирует оформление заказа.

#### **Компонент OrderForm**
**Назначение**: Компонент OrderForm отвечает за отображение формы для ввода данных о способе оплаты и адресе доставки.

Конструктор:

order: Order — объект с данными о заказе.
Свойства и методы:

name, email, address, phone: поля формы для ввода данных.
validate(): метод для проверки правильности введенных данных.
submitOrder(): отправляет данные формы для оформления заказа.
События:

ORDER_SUBMITTED — отправляется при отправке формы.
ORDER_SUCCESS — сигнализирует об успешном оформлении заказа.

---

#### **Модели данных**

##### **Базовая модель**

Component<T> — базовый класс для всех компонентов, отвечающий за отрисовку данных на экране.

Конструктор:

data: T — данные, которые передаются в компонент.
Методы:

render(): метод для отрисовки данных на экране.

Model — абстрактный класс для работы с данными в приложении. Он управляет состоянием и взаимодействует с компонентами.

Конструктор:

state: AppState — состояние приложения, включает данные о товарах в корзине, информации о заказе.
Методы:

setState(): обновляет состояние модели.
getState(): возвращает текущее состояние.

##### **Состояние приложения**
Класс `AppState` содержит данные о текущем состоянии приложения, такие как товары в корзине, список товаров в каталоге и информацию о заказе.

---

#### **События**
Проект использует события для взаимодействия между компонентами:

- `PRODUCT_SELECTED` — срабатывает при выборе товара.
- `ADD_TO_BASKET` — срабатывает при добавлении товара в корзину.
- `REMOVE_FROM_BASKET` — срабатывает при удалении товара из корзины.
- `ORDER_SUBMITTED` — срабатывает при отправке формы заказа.
- `ORDER_SUCCESS` — сигнализирует об успешном оформлении заказа.
- `BASKET_UPDATED` — обновляет состояние корзины.

#### **Класс EventEmitter**
`EventEmitter` реализует паттерн "Наблюдатель" для обработки событий между компонентами.

Методы:

on(event: string, callback: Function): подписка на событие.
off(event: string, callback: Function): отмена подписки на событие.
emit(event: string, data?: any): инициирует событие.
trigger(event: string): вызывает событие.

## Типы данных и интерфейсы

1. Product:
Описание: Интерфейс для представления товара, который включает все необходимые данные для отображения товара на сайте.

```TypeScript
interface Product {
  id: number;        // Уникальный идентификатор товара
  name: string;      // Название товара
  category: string;  // Категория товара (например, "декор", "инструменты" и т.д.)
  price: number;     // Цена товара
  image: string;     // URL изображения товара
}
```
2. Basket:
Описание: Интерфейс для корзины покупок, который хранит список выбранных товаров и общую стоимость.
```TypeScript
interface Basket {
  products: Product[];  // Массив товаров, добавленных в корзину
  totalPrice: number;   // Общая стоимость всех товаров в корзине
}
```

3. Order:
Описание: Интерфейс для данных заказа, который хранит информацию о корзине, способе доставки и оплате.
```TypeScript
interface Order {
  basket: Basket;             // Информация о корзине, включая товары и общую стоимость
  name: string;               // Имя покупателя
  address: string;            // Адрес доставки
  email: string;              // Электронная почта покупателя
  phone: string;              // Телефон покупателя
  paymentMethod: string;      // Метод оплаты (например, "картой", "наличными" и т.д.)
}
```

4. AppState:
Описание: Интерфейс для состояния приложения, который хранит информацию о товарах, корзине и текущем заказе.
```TypeScript
interface AppState {
  products: Product[];    // Список всех доступных товаров
  basket: Basket;         // Информация о корзине покупок
  order: Order;           // Данные о текущем заказе
}
```

## Автор

- Github - [Boris Tauber](https://github.com/Toybie)

